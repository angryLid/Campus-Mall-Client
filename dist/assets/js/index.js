webpackJsonp([1],{79:function(t,e,a){"use strict";function n(t){a(82)}function o(t){a(86)}function s(t){a(88)}function i(t){a(89)}function r(t){a(90)}function l(t){a(91)}function c(t){a(92)}Object.defineProperty(e,"__esModule",{value:!0});var u=a(0),d=(a(83),{data:function(){return{}},methods:{}}),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},h=[],m={render:p,staticRenderFns:h},v=m,f=a(5),_=n,b=f(d,v,!1,_,"data-v-07dda327",null),g=b.exports,w=a(84);u.default.use(w.a);var x=new w.a.Store({state:{permission:!1,checkedIn:!1},mutations:{permit:function(t){t.permission=!0},success:function(t){t.checkedIn=!0}},getters:{permission:function(t){return t.permission},checkedIn:function(t){return t.checkedIn}}}),y=a(85),C={data:function(){return{person:{uid:0,uname:"null",usex:"男",dateEntry:"null",department:"Null",position:"null",isAdmin:0}}},methods:{handleLogout:function(){localStorage.removeItem("Authorization"),this.$router.push({path:"/"})}},created:function(){var t=this,e=this,a=localStorage.getItem("Authorization"),n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:a}};this.$ajax.get("/profile",n).then(function(a){200==a.data.code?(e.person=a.data.data,e.person.usex="M"==e.person.usex?"男":"女",e.person.isAdmin=1==e.person.isAdmin?"管理员":"普通职工",1==e.person.isAdmin&&t.$store.state.commit("permit")):t.handleLogout()}).catch(function(t){})}},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"avatar"},[t._m(0),t._v(" "),a("div",{staticClass:"info"},[a("div",[a("span",{staticClass:"tag ft"},[t._v("工号")]),t._v(t._s(this.person.uid))]),t._v(" "),a("div",[a("span",{staticClass:"tag sd"},[t._v("姓名")]),t._v(t._s(this.person.uname)+"\n            ")]),t._v(" "),a("div",[a("span",{staticClass:"tag sd"},[t._v("性别")]),t._v(t._s(this.person.usex)+"\n            ")]),t._v(" "),a("div",[a("span",{staticClass:"tag td"},[t._v("部门")]),t._v(t._s(this.person.department)+"\n            ")]),t._v(" "),a("div",[a("span",{staticClass:"tag td"},[t._v("职位")]),t._v(" "+t._s(this.person.position)+"\n            ")]),t._v(" "),a("div",[a("span",{staticClass:"tag td"},[t._v("入职时间")]),t._v("\n                "+t._s(this.person.dateEntry)+"\n            ")]),t._v(" "),a("div",[a("span",{staticClass:"tag td"},[t._v("管理员权限")]),t._v("\n                "+t._s(this.person.isAdmin)+"\n            ")])])]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.handleLogout}},[t._v("退出登录")])],1)},$=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:a(87),alt:""}})])}],k={render:A,staticRenderFns:$},D=k,j=a(5),z=o,I=j(C,D,!1,z,"data-v-4ef6eb8f",null),S=I.exports,T={methods:{handleApply:function(){var t=this,e=localStorage.getItem("Authorization"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:e}};this.$ajax.post("/message",{applicant:0,message:""+t.value1+t.textarea2},a).then(function(e){200==e.data.code?(t.fetchAll(),console.log(e)):console.log(e)}).catch(function(t){})},fetchAll:function(){var t=this,e=localStorage.getItem("Authorization"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:e}};this.$ajax.get("/message/cur",a).then(function(e){200==e.data.code&&(t.tableData=e.data.data,t.tableData.map(function(t){0==t.approved?t.approved="待审批":1==t.approved?t.approved="通过":t.approved="驳回"}))}).catch(function(t){})}},data:function(){return{form:{},pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()}},tableData:[],value1:"",value2:"",textarea2:"开发测试数据placeholder",chosen:null,value:""}},created:function(){var t=this,e=localStorage.getItem("Authorization"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:e}};this.$ajax.get("/message/cur",a).then(function(e){200==e.data.code&&(t.tableData=e.data.data,t.tableData.map(function(t){0==t.approved?t.approved="待审批":1==t.approved?t.approved="通过":t.approved="驳回"}))}).catch(function(t){})}},F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-w80"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":t.pickerOptions},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:"请假理由"},model:{value:t.textarea2,callback:function(e){t.textarea2=e},expression:"textarea2"}})],1),t._v(" "),a("el-button",{on:{click:t.handleApply}},[t._v("申请")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"approved",label:"通过状态",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"申请内容",width:"720"}})],1)],1)},E=[],R={render:F,staticRenderFns:E},U=R,L=a(5),N=s,M=L(T,U,!1,N,"data-v-38cbd8d5",null),O=M.exports,J={data:function(){return{permission:!1}},methods:{toAccount:function(){this.$router.push("/account")},handleSelect:function(){}},mounted:function(){this.permission=this.$store.state.permission}},P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal",router:""},on:{select:t.handleSelect}},[a("el-menu-item",{attrs:{index:"account"}},[t._v("职工信息")]),t._v(" "),a("el-menu-item",{attrs:{index:"apply"}},[t._v("提交申请")]),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[t._v("管理")]),t._v(" "),a("el-menu-item",{attrs:{index:"manage"}},[t._v("管理员工")]),t._v(" "),a("el-menu-item",{attrs:{index:"examine"}},[t._v("申请审批")])],2)],1),t._v(" "),a("router-view")],1)},q=[],B={render:P,staticRenderFns:q},G=B,H=a(5),K=i,Q=H(J,G,!1,K,"data-v-070e13b6",null),V=Q.exports,W={data:function(){return{search:"",tableData:[],chosenCources:[]}},methods:{disabled:function(t,e){return e.selected},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)},select:function(t,e){console.log(e);var a=this.tableData[t];a.selected||(a.selected=!0,this.chosenCources.push(a))},cancel:function(t,e){this.tableData[e.id].selected=!1,console.log(e.id),this.chosenCources.splice(t,1)}},created:function(){var t=this,e=localStorage.getItem("Authorization"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:e}};this.$ajax.get("/profile/all",a).then(function(e){200==e.data.code&&(t.tableData=e.data.data,t.tableData.map(function(t){t.usex="M"==t.usex?"男":"女"}))}).catch(function(t){})}},X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-w80"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"uid",label:"工号",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"uname",label:"姓名",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"usex",label:"性别",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dateEntry",label:"入职时间",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"部门",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"success",disabled:t.disabled(e.$index,e.row)},on:{click:function(a){return t.select(e.$index,e.row)}}},[t._v("管理")])]}}])})],1)],1)},Y=[],Z={render:X,staticRenderFns:Y},tt=Z,et=a(5),at=r,nt=et(W,tt,!1,at,"data-v-d9a9adf0",null),ot=nt.exports,st={data:function(){return{stuID:10001,psw:"8080",coincided:!1,wrong:!1}},methods:{submit:function(t){var e=this;this.$ajax.post("/login",{jobNumber:this.stuID,password:this.psw}).then(function(t){if(200==t.data.code)return localStorage.setItem("Authorization",t.data.data),e.wrong=!1,e.coincided=!0,void setTimeout(function(){e.$router.push({path:"/board/account"})},500);e.wrong=!0,e.coincided=!1,console.log(t)}).catch(function(t){console.log(t)})},check:function(t){console.log(t)}}},it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restrict"},[a("el-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("el-form-item",[a("h1",{staticClass:"title-light"},[t._v("职工管理系统")])]),t._v(" "),a("div",{staticClass:"l-row"},[a("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.coincided,expression:"coincided"}],attrs:{title:"欢迎回来",type:"success",closable:!1}}),t._v(" "),a("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.wrong,expression:"wrong"}],attrs:{title:"账号或密码错误",type:"warning",closable:!1}})],1),t._v(" "),a("el-form-item",{staticClass:"row"},[a("el-input",{attrs:{type:"text",placeholder:"填写你的工号"},model:{value:t.stuID,callback:function(e){t.stuID=e},expression:"stuID"}})],1),t._v(" "),a("el-form-item",{staticClass:"row"},[a("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.psw,callback:function(e){t.psw=e},expression:"psw"}})],1),t._v(" "),a("el-form-item",{staticClass:"row"},[a("el-checkbox",[t._v("记住密码")]),t._v(" "),a("el-button",{staticClass:"rf",attrs:{type:"primary"},on:{click:t.submit}},[t._v("登录")])],1)],1)],1)},rt=[],lt={render:it,staticRenderFns:rt},ct=lt,ut=a(5),dt=l,pt=ut(st,ct,!1,dt,"data-v-22f5f410",null),ht=pt.exports,mt={data:function(){return{tableData:[]}},methods:{disabled:function(t,e){return e.selected},pass:function(t,e){var a=this,n=localStorage.getItem("Authorization"),o={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}};this.$ajax.put("/message?id="+e.sno+"&status=true",null,o).then(function(t){console.log(t),200==t.data.code&&a.refresh()}).catch(function(t){})},reject:function(t,e){var a=this,n=localStorage.getItem("Authorization"),o={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}};this.$ajax.put("/message?id="+e.sno+"&status=false",null,o).then(function(t){console.log(t),200==t.data.code&&a.refresh()}).catch(function(t){})},refresh:function(){var t=this,e=localStorage.getItem("Authorization"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:e}};this.$ajax.get("/message",a).then(function(e){200==e.data.code&&(t.tableData=e.data.data)}).catch(function(t){})}},created:function(){var t=this,e=localStorage.getItem("Authorization"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:e}};this.$ajax.get("/message",a).then(function(e){200==e.data.code&&(t.tableData=e.data.data)}).catch(function(t){})}},vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-w80"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"userId",label:"申请人",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applyDate",label:"申请时间",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"申请内容",width:"800"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"success",disabled:t.disabled(e.$index,e.row)},on:{click:function(a){return t.pass(e.$index,e.row)}}},[t._v("批准")]),t._v(" "),a("el-link",{attrs:{type:"success",disabled:t.disabled(e.$index,e.row)},on:{click:function(a){return t.reject(e.$index,e.row)}}},[t._v("驳回")])]}}])})],1)],1)},ft=[],_t={render:vt,staticRenderFns:ft},bt=_t,gt=a(5),wt=c,xt=gt(mt,bt,!1,wt,"data-v-528cc998",null),yt=xt.exports;u.default.use(y.a);var Ct=new y.a({linkActiveClass:"active",routes:[{path:"/",name:"login",component:ht,meta:{title:"登录"}},{path:"/board",component:V,meta:{title:"控制台"},children:[{path:"account",component:S,meta:{title:"查看职位-控制台"}},{path:"apply",component:O,meta:{title:"请假申请-控制台"}},{path:"manage",component:ot,meta:{title:"员工管理"}},{path:"examine",component:yt,meta:{title:"审批"}}]}]});Ct.beforeEach(function(t,e,a){t.meta.title&&(document.title=t.meta.title+" - 职工管理系统");var n=localStorage.getItem("Authorization");"/"==t.path?n?Ct.replace("/board/account"):a():n?a():a({path:"/"})});var At=a(93),$t=a.n(At),kt=a(110),Dt=a.n(kt);a(171);$t.a.defaults.baseURL="http://localhost:8080",u.default.prototype.$ajax=$t.a,u.default.use(Dt.a),new u.default({el:"#app",router:Ct,store:x,render:function(t){return t(g)}})},82:function(t,e){},83:function(t,e){},86:function(t,e){},87:function(t,e,a){t.exports=a.p+"images/avatar.e1d3686.jpg"},88:function(t,e){},89:function(t,e){},90:function(t,e){},91:function(t,e){},92:function(t,e){}},[79]);